!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Router={})}(this,(function(t){"use strict";var e=function(){function Router(t,e){this.target=t,this.routes=e,this.init()}return Object.defineProperty(Router.prototype,"path",{get:function(){var t=window.location.hash;return""!==t?t.replace("#",""):null},enumerable:!1,configurable:!0}),Object.defineProperty(Router.prototype,"current",{get:function(){var t=this.path||"/";return this.matchRoute(t)},enumerable:!1,configurable:!0}),Router.prototype.matchRoute=function(t){for(var e=this.routes.length,o=0;o<e;o++){var r=this.routes[o];if(r.path===t)return r}return null},Router.prototype.routeElem=function(t){return"string"==typeof t.view?document.createElement(t.view):t.view instanceof HTMLElement?t.view:null},Router.prototype.routeHash=function(t){return"#"+t.path},Router.prototype.init=function(){var t=this;window.addEventListener("popstate",(function(){return t.load()})),null===this.path&&this.go("/"),this.load()},Router.prototype.load=function(){var t=this.current;if(this.target.innerHTML="",null===t)throw Error("the provided path hasn't assigned any route.");if(null===window.history.state){var e={title:t.title,path:t.path};window.history.replaceState({route:e},e.title,this.routeHash(t))}var o=this.routeElem(t);null!==o&&(this.target.append(o),void 0!==t.title&&(document.title=t.title),void 0!==t.handler&&t.handler())},Router.prototype.go=function(t,e){var o=this.matchRoute(t);if(null===o)throw Error("the provided path hasn't assigned any route.");var r={title:o.title,path:o.path};window.history.pushState({route:r,params:e},r.title,this.routeHash(o)),this.load()},Router}();t.default=function(t,o){return new e(t,o)},Object.defineProperty(t,"__esModule",{value:!0})}));
