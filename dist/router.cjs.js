"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function Router(t,e){this.target=t,this.routes=e,this.init()}return Object.defineProperty(Router.prototype,"path",{get:function(){var t=window.location.hash;return""!==t?t.replace("#",""):null},enumerable:!1,configurable:!0}),Object.defineProperty(Router.prototype,"current",{get:function(){var t=this.path||"/";return this.matchRoute(t)},enumerable:!1,configurable:!0}),Router.prototype.matchRoute=function(t){for(var e=this.routes.length,r=0;r<e;r++){var o=this.routes[r];if(o.path===t)return o}return null},Router.prototype.routeElem=function(t){return"string"==typeof t.view?document.createElement(t.view):t.view instanceof HTMLElement?t.view:null},Router.prototype.routeHash=function(t){return"#"+t.path},Router.prototype.init=function(){var t=this;window.addEventListener("popstate",(function(){return t.load()})),null===this.path&&this.go("/"),this.load()},Router.prototype.load=function(){var t=this.current;if(this.target.innerHTML="",null===t)throw Error("the provided path hasn't assigned any route.");if(null===window.history.state){var e={title:t.title,path:t.path};window.history.replaceState({route:e},e.title,this.routeHash(t))}var r=this.routeElem(t);null!==r&&(this.target.append(r),void 0!==t.title&&(document.title=t.title),void 0!==t.handler&&t.handler())},Router.prototype.go=function(t,e){var r=this.matchRoute(t);if(null===r)throw Error("the provided path hasn't assigned any route.");var o={title:r.title,path:r.path};window.history.pushState({route:o,params:e},o.title,this.routeHash(r)),this.load()},Router}();exports.default=function(e,r){return new t(e,r)};
